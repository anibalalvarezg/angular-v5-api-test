<h2 mat-dialog-title>Editar Cerveza</h2>

<mat-dialog-content class="p-2">
  <form [formGroup]="beerForm">
    <!-- Campo SKU (deshabilitado) -->
    <mat-form-field class="w-100 mb-2">
      <input matInput placeholder="SKU *" formControlName="sku" />
    </mat-form-field>

    <!-- Campo Nombre -->
    <mat-form-field class="w-100 mb-2">
      <input matInput placeholder="Nombre *" formControlName="name" />
      <mat-error *ngIf="submitted && f.name.errors">
        <span *ngIf="f.name.errors.required">El nombre es requerido</span>
        <span *ngIf="f.name.errors.minlength"
          >El nombre debe tener al menos 3 caracteres</span
        >
      </mat-error>
    </mat-form-field>

    <!-- Campo Cervecería -->
    <mat-form-field class="w-100 mb-2">
      <input matInput placeholder="Cervecería *" formControlName="brewery" />
      <mat-error *ngIf="submitted && f.brewery.errors">
        <span *ngIf="f.brewery.errors.required"
          >La cervecería es requerida</span
        >
        <span *ngIf="f.brewery.errors.minlength"
          >La cervecería debe tener al menos 3 caracteres</span
        >
      </mat-error>
    </mat-form-field>

    <!-- Campo ABV -->
    <div class="mb-2">
      <label class="d-block mb-1"
        >ABV: {{ f.abv.value | number: '1.1-1' }}%</label
      >
      <mat-slider
        class="w-100"
        [min]="0"
        [max]="50"
        [step]="0.1"
        [thumb-label]="true"
        [value]="f.abv.value"
        (input)="onAbvChange($event.value)"
      ></mat-slider>
    </div>

    <!-- Campo IBU -->
    <div class="mb-2">
      <label class="d-block mb-1">IBU: {{ f.ibu.value }}</label>
      <mat-slider
        class="w-100"
        [min]="0"
        [max]="100"
        [step]="1"
        [thumb-label]="true"
        [value]="f.ibu.value"
        (input)="onIbuChange($event.value)"
      ></mat-slider>
    </div>

    <!-- Campo País -->
    <mat-form-field class="w-100">
      <input matInput placeholder="País *" formControlName="country" />
      <mat-error *ngIf="submitted && f.country.errors">
        <span *ngIf="f.country.errors.required">El país es requerido</span>
        <span *ngIf="f.country.errors.minlength"
          >El país debe tener al menos 3 caracteres</span
        >
      </mat-error>
    </mat-form-field>
  </form>
</mat-dialog-content>

<mat-dialog-actions class="d-flex justify-content-end p-2 m-0">
  <button mat-button (click)="onCancel()" class="mr-2">Cancelar</button>
  <button
    mat-raised-button
    color="primary"
    (click)="onSave()"
    [disabled]="beerForm.invalid"
  >
    Guardar
  </button>
</mat-dialog-actions>
